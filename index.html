<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0' />
    <link rel="stylesheet" href="css/swiper.min.css">
    <link rel="stylesheet" href="css/animate.min.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>
    <script src="js/swiper.jquery.min.js"></script>
    <script src="js/swiper.animate.min.js"></script>
    <script type="text/javascript" src="js/numanimate.js"></script>
    <script type="text/javascript">
        (function() {
            var _self = this;
            _self.width = 640; //设置默认最大宽度
            _self.fontSize = 100; //默认字体大小
            _self.widthProportion = function() {
                var p = (document.getElementsByTagName("html")[0].offsetWidth) / _self.width;
                return p > 1 ? 1 : p < 0.5 ? 0.5 : p;
            };
            _self.changePage = function() {
                document.getElementsByTagName("html")[0].setAttribute("style", "font-size:" + _self.widthProportion() * _self.fontSize + "px !important");
            }
            _self.changePage();
            window.addEventListener("resize", function() {
                _self.changePage();
            }, false);
        }());
    </script>
</head>

<body>
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <!-- -----------slide1--------------- -->
            <section class="swiper-slide swiper-slide1">
                <!-- 三角形边框 -->
                <div class="toothbg"></div>
                <!-- 公共标题 -->
                <div class="J-title ani resize" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s" swiper-animate-delay="0s">
                    <div class="J-title-con">
                        <div class="J-title-num">1</div>
                        <h1>过去三月流量使用情况</h1>
                    </div>
                </div>
                <div class="J-phone ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="0.5s"></div>
                <div class="J-connent ani" style="width: 90%; left: 5%;">
                    <h2>3个月</h2>
                    <div class="J-connent-title">全省平均和本人的对比</div>
                    <div class="J-zhuxing" style="background: url(images/chartbg.png) center center no-repeat; background-size: 90% auto; height: 4.5rem;">
                        <ul class="J-box J-zhu" style="height: 3.1rem; width: 90%; margin: 0 auto;">
                            <li></li>
                            <li></li>
                            <li></li>
                            <li></li>
                            <li></li>
                            <li></li>
                        </ul>
                        <ul class="J-box avg" style="width: 90%; margin: 0 auto;">
                            <li>全省平均</li>
                            <li>本人</li>
                            <li>全省平均</li>
                            <li>本人</li>
                            <li>全省平均</li>
                            <li>本人</li>
                        </ul>
                        <!-- <img src="images/chartbg.png" alt="柱形图"> -->
                        <!-- <img src="images/zhuxing.png" alt="柱形图"> -->
                    </div>
                    <div class="J-book">
                        <ul>
                            <li></li>
                            <li></li>
                            <li></li>
                        </ul>
                    </div>
                </div>
                <!-- 公共图标 -->
                <div class="J-icon"></div>
            </section>
            <!-- -------------slide2----------- -->
            <section class="swiper-slide swiper-slide2">
                <div class="toothbg"></div>
                <div class="J-title ani resize" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s" swiper-animate-delay="0s">
                    <div class="J-title-con">
                        <div class="J-title-num">2</div>
                        <h1>过去三月漫游情况</h1>
                    </div>
                </div>
                <div class="J-eirport ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="0.5s"></div>
                <div class="J-connent">
                    <div class="J-connent-title" id="total">足迹遍布<span class="t_num"></span>个城市</div>
                    <img class="ani resize map" swiper-animate-effect="pulse" swiper-animate-duration="0.5s" swiper-animate-delay="0s" src="images/map.png" alt="">
                    <img class="ani resize searchbook" src="images/searchbook.png" alt="" swiper-animate-effect="slideInRight" swiper-animate-duration="0.5s" swiper-animate-delay="0s">
                </div>
                <img class="ani resize shee" src="images/shee.png" alt="" swiper-animate-effect="slideInUp" swiper-animate-duration="0.5s" swiper-animate-delay="0s">
                <!-- 公共图标 -->
                <div class="J-icon"></div>
            </section>
            <!-- --------------slide3------------ -->
            <section class="swiper-slide swiper-slide3">
                <div class="toothbg"></div>
                <div class="J-title ani resize" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s" swiper-animate-delay="0s">
                    <div class="J-title-con">
                        <div class="J-title-num">3</div>
                        <h1>过去三月咪咕业务使用情况</h1>
                    </div>
                </div>
                <div class="J-connent">
                    <img class="ani resize shee" src="images/circle.png" alt="" swiper-animate-effect="slideInUp" swiper-animate-duration="0.5s" swiper-animate-delay="0s">
                </div>
                <!-- 公共图标 -->
                <div class="J-icon"></div>
            </section>
            <!-- -----------slide4--------------- -->
            <section class="swiper-slide swiper-slide4">
                <div class="toothbg"></div>
                <div class="J-title ani resize" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s" swiper-animate-delay="0s">
                    <div class="J-title-con">
                        <div class="J-title-num">4</div>
                        <h1>最喜欢的数据业务应用是</h1>
                    </div>
                </div>
                <div class="J-connent">
                    <div class="J-connent-title">使用次数最多的业务</div>
                    <img class="jiangbei" src="images/jiangbei.png" alt="">
                    <img class="ani resize dataline" src="images/dataline.png" alt="" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s" swiper-animate-delay="0s">
                    <div class="J-tip J-box">1212</div>
                </div>
                <!-- 公共图标 -->
                <div class="J-icon"></div>
            </section>
            <!-- -----------slide5--------------- -->
            <section class="swiper-slide swiper-slide5">
                <div class="toothbg"></div>
                <div class="J-title ani resize" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s" swiper-animate-delay="0s">
                    <div class="J-title-con">
                        <div class="J-title-num">5</div>
                        <h1>阅读类应用使用排名前10%</h1>
                    </div>
                </div>
                <div class="J-connent J-box ani">
                    <div class="J-blqs">
                        <img class="ani resize" src="images/blqs.png" alt="" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s" swiper-animate-delay="0s">
                    </div>
                </div>
                <!-- 公共图标 -->
                <div class="J-icon"></div>
            </section>
            <!-- -----------slide6--------------- -->
            <section class="swiper-slide swiper-slide6" style="background-color: #53b4ff">
                <div class="toothbg"></div>
                <div class="J-title ani resize" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s" swiper-animate-delay="0s">
                    <div class="J-title-con">
                        <div class="J-title-num">6</div>
                        <h1>视频类应用次数排名前10%</h1>
                    </div>
                </div>
                <div class="J-connent J-box ani">
                    <div class="J-blqs">
                        <img class="ani resize" src="images/zjdk.png" alt="" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s" swiper-animate-delay="0s">
                    </div>
                </div>
                <!-- 公共图标 -->
                <div class="J-icon"></div>
            </section>
            <!-- -----------slide7--------------- -->
            <section class="swiper-slide swiper-slide7" style="background-color: #f8b500">
                <div class="toothbg"></div>
                <div class="J-title ani resize" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s" swiper-animate-delay="0s">
                    <div class="J-title-con">
                        <div class="J-title-num">7</div>
                        <h1>漫游时长排名前10%</h1>
                    </div>
                </div>
                <div class="J-connent J-box ani">
                    <div class="J-blqs">
                        <img class="ani resize" src="images/kzfr.png" alt="" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s" swiper-animate-delay="0s">
                    </div>
                </div>
                <!-- 公共图标 -->
                <div class="J-icon"></div>
            </section>
            <!-- -----------slide8--------------- -->
            <section class="swiper-slide swiper-slide8" style="background-color: #004098">
                <div class="toothbg"></div>
                <div class="J-title ani resize" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s" swiper-animate-delay="0s">
                    <div class="J-title-con">
                        <div class="J-title-num">8</div>
                        <h1>流量使用前10%</h1>
                    </div>
                </div>
                <div class="J-connent J-box ani">
                    <div class="J-blqs">
                        <img class="ani resize" src="images/th.png" alt="" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s" swiper-animate-delay="0s">
                    </div>
                </div>
                <!-- 公共图标 -->
                <div class="J-icon"></div>
            </section>
            <!-- -----------slide9--------------- -->
            <section class="swiper-slide swiper-slide9" style="background-color: #ffe500">
                <div class="toothbg"></div>
                <div class="J-title ani resize" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s" swiper-animate-delay="0s">
                    <div class="J-title-con">
                        <div class="J-title-num">9</div>
                        <h1>工作狂魔，没时间看手机了吧</h1>
                    </div>
                </div>
                <div class="J-connent J-box ani">
                    <div class="J-blqs">
                        <img class="ani resize" src="images/gzk.png" alt="" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s" swiper-animate-delay="0s">
                    </div>
                </div>
                <!-- 公共图标 -->
                <div class="J-icon"></div>
            </section>
        </div>
        <img src="images/arrow.png" style="width:20px;height:15px; top:460px; left:150px;" id="array" class="resize">
        <div class="swiper-pagination"></div>
    </div>
    <script>
    scaleW = window.innerWidth / 320;
    scaleH = window.innerHeight / 480;
    var resizes = document.querySelectorAll('.resize');
    for (var j = 0; j < resizes.length; j++) {
        resizes[j].style.width = parseInt(resizes[j].style.width) * scaleW + 'px';
        resizes[j].style.height = parseInt(resizes[j].style.height) * scaleH + 'px';
        resizes[j].style.top = parseInt(resizes[j].style.top) * scaleH + 'px';
        resizes[j].style.left = parseInt(resizes[j].style.left) * scaleW + 'px';
    }

    var bgs = ['#43beef', '#fbca00', '#ffffff', '#e95d9d', '#58b431'];
    $('.swiper-wrapper>.swiper-slide').each(function(index, element) {
        $(element).css({
            'background': bgs[index]
        });
    });
    var dataList = ['30%', '40%', '40%', '60%', '40%', '90%'];
    var mySwiper = new Swiper('.swiper-container', {
        direction: 'vertical',
        pagination: '.swiper-pagination',
        //virtualTranslate : true,
        mousewheelControl: true,
        watchSlidesProgress: true,
        onInit: function(swiper) {
            swiperAnimateCache(swiper)
            swiperAnimate(swiper);
            $('.J-zhu li').each(function (index, element) {
              $(element).css({
                'height': dataList[index]
              })
            });
        },
        onSlideChangeEnd: function(swiper) {
            swiperAnimate(swiper);
            if (swiper.slides[2].progress == -1) {
                show_num(5)
            } else {
                show_num(1);
            }
        },
        onTransitionEnd: function(swiper) {
            swiperAnimate(swiper);
        },

        onProgress: function(swiper) {
            for (var i = 0; i < swiper.slides.length; i++) {
                var slide = swiper.slides[i];
                var progress = slide.progress;
                var translate = progress * swiper.height / 4;
                scale = 1 - Math.min(Math.abs(progress * 0.5), 1);
                var opacity = 1 - Math.min(Math.abs(progress / 2), 0.5);
                slide.style.opacity = opacity;
                es = slide.style;
                es.webkitTransform = es.MsTransform = es.msTransform = es.MozTransform = es.OTransform = es.transform = 'translate3d(0,' + translate + 'px,-' + translate + 'px) scaleY(' + scale + ')';

            }
        },

        onSetTransition: function(swiper, speed) {
            for (var i = 0; i < swiper.slides.length; i++) {
                es = swiper.slides[i].style;
                es.webkitTransitionDuration = es.MsTransitionDuration = es.msTransitionDuration = es.MozTransitionDuration = es.OTransitionDuration = es.transitionDuration = speed + 'ms';

            }
        },
    });

    function show_num(n) {
        var it = $(".t_num i");
        var len = String(n).length;
        for (var i = 0; i < len; i++) {
            if (it.length <= i) {
                $(".t_num").append("<i></i>");
            }
            var num = String(n).charAt(i);
            var y = -parseInt(num) * 30; //y轴位置 
            var obj = $(".t_num i").eq(i);
            obj.animate({ //滚动动画 
                backgroundPosition: '(0 ' + String(y) + 'px)'
            }, 'slow', 'swing', function() {});
        }
    }
    show_num(0);
    </script>
</body>

</html>
